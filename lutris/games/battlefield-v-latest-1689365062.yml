game:
  exe: /home/nxtperfect/Games/Battlefield V/bfv.exe
  prefix: /home/nxtperfect/Games/battlefield-v
game_slug: battlefield-v
name: Battlefield V
requires: null
script:
  files:
  - client: https://origin-a.akamaihd.net/Origin-Client-Download/origin/live/OriginThinSetup.exe
  - updater: https://raw.githubusercontent.com/DrDoctor13/wine-origin-updater/master/updateorigin.sh
  game:
    exe: drive_c/Program Files (x86)/Origin/Origin.exe
    prefix: $GAMEDIR
  installer:
  - task:
      arch: win64
      prefix: /home/nxtperfect/Games/battlefield-v
      wine_path: /home/nxtperfect/.local/share/lutris/runners/wine/lutris-7.2-2-x86_64/bin/wine
  - execute:
      command: mkdir "$GAMEDIR/bfv-nv-shaders"
  - input_menu:
      id: GPU
      options:
      - {}
      - {}
      preselect: Not needed for AMD. Ignore this.
  - write_file:
      content: $INPUT_GPU
      file: $GAMEDIR/dxvk.conf
  - task:
      app: arial d3dcompiler_43 d3dcompiler_47 d3dx9
      arch: win64
      prefix: /home/nxtperfect/Games/battlefield-v
      wine_path: /home/nxtperfect/.local/share/lutris/runners/wine/lutris-7.2-2-x86_64/bin/wine
  - task:
      arch: win64
      args: /silent
      env:
        DXVK_CONFIG_FILE: /home/nxtperfect/Games/battlefield-v/dxvk.conf
        STAGING_SHARED_MEMORY: '0'
        __GL_SHADER_DISK_CACHE_PATH: /home/nxtperfect/Games/battlefield-v/bfv-nv-shaders
      exclude_processes: Origin.exe OriginClientService.exe OriginWebHelperService.exe
        QtWebEngineProcess.exe explorer.exe
      executable: /home/nxtperfect/.cache/lutris/installer/battlefield-v/client/OriginThinSetup.exe
      prefix: /home/nxtperfect/Games/battlefield-v
      wine_path: /home/nxtperfect/.local/share/lutris/runners/wine/lutris-7.2-2-x86_64/bin/wine
  - task:
      arch: win64
      prefix: /home/nxtperfect/Games/battlefield-v
      wine_path: /home/nxtperfect/.local/share/lutris/runners/wine/lutris-7.2-2-x86_64/bin/wine
  - chmodx: updater
  - merge:
      dst: $GAMEDIR/drive_c/Program Files (x86)/Origin
      src: updater
  system:
    env:
      DXVK_CONFIG_FILE: $GAMEDIR/dxvk.conf
      STAGING_SHARED_MEMORY: 0
      __GL_SHADER_DISK_CACHE_PATH: $GAMEDIR/bfv-nv-shaders
    exclude_processes: QtWebEngineProcess.exe ActivationUI.exe OriginWebHelperService.exe
    manual_command: $GAMEDIR/drive_c/Program Files (x86)/Origin/updateorigin.sh
  wine:
    overrides:
      nvapi,nvapi64: disabled
    version: lutris-7.2-2-x86_64
slug: battlefield-v-latest
system:
  env:
    DXVK_CONFIG_FILE: /home/nxtperfect/Games/battlefield-v/dxvk.conf
    STAGING_SHARED_MEMORY: '0'
    __GL_SHADER_DISK_CACHE_PATH: /home/nxtperfect/Games/battlefield-v/bfv-nv-shaders
  exclude_processes: QtWebEngineProcess.exe ActivationUI.exe OriginWebHelperService.exe
  manual_command: /home/nxtperfect/Games/battlefield-v/drive_c/Program Files (x86)/Origin/updateorigin.sh
variables: {}
version: latest
wine:
  overrides:
    nvapi,nvapi64: disabled
  version: lutris-GE-Proton8-10-x86_64
year: 2018
